// A function to display an error message and then exit
void fatal(char *message) {
    char error_message[100];

    strcpy(error_message, "[!! Fatal error");
    strncat(error_message, message, 83);
    perror(error_message);
    exit(-1);
}

// An error checked wrapper that allocates memory
void *error_checked_memory_allocator(unsigned int size) {
    void *ptr;

    ptr = malloc(size);
    if (ptr == NULL) {
        fatal("In error_checked_memory_allocator() on memory allocation");
    }
    return ptr;
}